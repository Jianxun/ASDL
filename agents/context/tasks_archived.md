# Tasks Archived

Deprecated: source of truth is now `agents/context/tasks_archived.yaml`. This
file is a frozen legacy snapshot.

## 2026-01-03
- T-035 | Status: Done | Owner: Executor | DoD: Decide how to map NFIR `src`/AST locations into IFIR conversion diagnostics; emit span-aware diagnostics (or document why spans are unavailable) for NFIR->IFIR conversion + emission errors; update unit tests as needed. | Verify: `pytest tests/unit_tests/ir`. | Links: scratchpad `agents/scratchpads/T-035_ifir_diagnostics_spans.md`, PR https://github.com/Jianxun/ASDL/pull/35. | Completion: 2026-01-03.
- T-039 | Status: Done | Owner: Executor | DoD: Improve `asdlc --help` so the top-level menu lists `netlist` and includes a brief command summary; add a CLI help test that asserts the command list appears. | Verify: `pytest tests/unit_tests/cli`. | Links: scratchpad `agents/scratchpads/T-039_cli_help.md`, PR https://github.com/Jianxun/ASDL/pull/37. | Completion: 2026-01-03.

## 2026-01-02
- T-034 | Status: Done | Owner: Executor | DoD: Implement MVP pipeline orchestrator in `src/asdl/ir/pipeline.py` using xDSL PassManager; wrap NFIR->IFIR conversion as a pass; gate verification passes via options; return IFIR design + diagnostics; align with `docs/specs_mvp/spec_pipeline_mvp.md`. Add end-to-end test that uses the pipeline entrypoint (no direct converter calls) to parse AST -> NFIR -> IFIR -> emit; validate determinism and top handling. | Verify: `pytest tests/unit_tests/ir` and `pytest tests/unit_tests/e2e`. | Links: scratchpad `agents/scratchpads/T-034_e2e_mvp.md`, PR https://github.com/Jianxun/ASDL/pull/30. | Completion: 2026-01-02.
- T-044 | Status: Done | Owner: Architect | DoD: Update `docs/specs_mvp/spec_netlist_emission_mvp.md` to reflect `{ports}` placeholder (no `{conns}`) and `{params}` deprecation, and document supported placeholders. | Verify: none (doc task). | Links: scratchpad `agents/scratchpads/T-044_netlist_placeholder_spec.md`. | Completion: 2026-01-02.
- T-042 | Status: Done | Owner: Architect | DoD: Update pattern expansion spec to use `|` and `;` delimiters with no surrounding whitespace, left-to-right expansion semantics, and list-only endpoint authoring rule; update `docs/specs_mvp/spec_ast_mvp.md` and `docs/specs/spec_ast.md` to reflect list-only endpoints. Add examples that avoid YAML flow-style pitfalls. | Verify: none (doc task). | Links: scratchpad `agents/scratchpads/T-042_pattern_expansion_delimiters.md`. | Completion: 2026-01-02.
- T-040 | Status: Done | Owner: Architect | DoD: Decision: if delimiter spec changes to `|`/`;`, endpoint lists become YAML lists only; no whitespace around delimiters; pattern expansion resolves strictly left-to-right by concatenating expanded lists. Record decision in contract log and create follow-on tasks for spec + implementation updates. | Verify: none (decision task). | Links: scratchpad `agents/scratchpads/T-040_endpoint_list_policy.md`. | Completion: 2026-01-02.
- T-033 | Status: Done | Owner: Executor | DoD: Implement ngspice emitter from IFIR per MVP emission spec (top handling, named conns, device param merge/validation, backend template rendering); add golden tests. | Verify: `pytest tests/unit_tests/netlist`. | Links: scratchpad `agents/scratchpads/T-033_netlist_emission_mvp.md`, PR https://github.com/Jianxun/ASDL/pull/29. | Completion: 2026-01-02.
- T-032 | Status: Done | Owner: Executor | DoD: Implement xDSL `asdl_ifir` dialect per MVP spec and NFIR->IFIR conversion (invert nets to named conns, explicit nets, preserve `port_order`); add unit tests. | Verify: `pytest tests/unit_tests/ir`. | Links: scratchpad `agents/scratchpads/T-032_ifir_mvp.md`, PR https://github.com/Jianxun/ASDL/pull/28. | Completion: 2026-01-02.
- T-031 | Status: Done | Owner: Executor | DoD: Implement xDSL `asdl_nfir` dialect per MVP spec; update AST->NFIR converter to parse instance expr into ref+params, extract `port_order` from `$` nets, and carry devices/backends; add unit tests. | Verify: `pytest tests/unit_tests/ir` and `pytest tests/unit_tests/parser`. | Links: scratchpad `agents/scratchpads/T-031_nfir_mvp.md`, PR https://github.com/Jianxun/ASDL/pull/27. | Completion: 2026-01-02.
- T-030 | Status: Done | Owner: Executor | DoD: Rewrite AST + parser for MVP spec `docs/specs_mvp/spec_ast_mvp.md` (AsdlDocument with only `top/modules/devices`; `ModuleDecl` with `instances`/`nets` ordered maps of raw strings; `DeviceDecl` + `DeviceBackendDecl` with required template; enforce hard requirements and forbid legacy fields like ports/views/imports/exports; update `src/asdl/ast/__init__.py` exports + JSON schema); refresh parser/location tests for new schema and add AST validation tests. | Verify: `pytest tests/unit_tests/parser` and `pytest tests/unit_tests/ast`. | Links: scratchpad `agents/scratchpads/T-030_ast_parser_mvp.md`, PR https://github.com/Jianxun/ASDL/pull/26. | Completion: 2026-01-02.
- T-041 | Status: Done | Owner: Executor | DoD: Make `DeviceDecl.ports` optional in the AST schema; update validations/converters/tests to accept devices with no ports; confirm emission behavior for portless devices. | Verify: `pytest tests/unit_tests/ast` and `pytest tests/unit_tests/ir`. | Links: scratchpad `agents/scratchpads/T-041_device_ports_optional.md`, PR https://github.com/Jianxun/ASDL/pull/34. | Completion: 2026-01-02.
- T-043 | Status: Done | Owner: Executor | DoD: Implement list-only endpoint authoring (disallow string endpoint lists) per ADR-0005; update AST schema, parser validation, and converters; update diagnostics to guide users; adjust tests. | Verify: `pytest tests/unit_tests/parser` and `pytest tests/unit_tests/ir`. | Links: scratchpad `agents/scratchpads/T-043_endpoint_list_lists_only.md`, PR https://github.com/Jianxun/ASDL/pull/32. | Completion: 2026-01-02.
- T-037 | Status: Done | Owner: Executor | DoD: Update PARSE-003 diagnostics after list-only endpoint authoring lands (T-043). Ensure errors explicitly say endpoint lists must be YAML lists of `<instance>.<pin>` strings; keep instance expr hints for `<model> key=value ...`. Add parser tests for the improved message/notes. | Verify: `pytest tests/unit_tests/parser`. | Links: scratchpad `agents/scratchpads/T-037_parser_endpoint_hints.md`, PR https://github.com/Jianxun/ASDL/pull/33. | Completion: 2026-01-02.
- T-036 | Status: Done | Owner: Executor | DoD: Implement CLI command under `src/asdl/cli/` that runs the MVP pipeline end-to-end via `src/asdl/ir/pipeline.py` and emits ngspice output (no direct converter calls); expose `--verify` toggle, deterministic diagnostics, and default output `{asdl_basename}.spice`; add CLI-level tests. Blocked on T-034 completion. | Verify: `pytest tests/unit_tests/cli`. | Links: scratchpad `agents/scratchpads/T-036_cli_pipeline.md`, PR https://github.com/Jianxun/ASDL/pull/31. | Completion: 2026-01-02.
- T-045 | Status: Done | Owner: Architect | DoD: Update AST specs (`docs/specs_mvp/spec_ast_mvp.md`, `docs/specs/spec_ast.md`) to make `DeviceDecl.ports` optional and reflect list-only endpoint lists per ADR-0005. | Verify: none (doc task). | Links: scratchpad `agents/scratchpads/T-045_ast_specs_updates.md`. | Completion: 2026-01-02.

## 2026-01-01
- T-020 | Status: Done | Owner: Executor | DoD: Rename core xDSL dialect to `asdl_cir` in code/tests; update converter usage and IR text expectations to match ASDL_CIR naming; keep semantics unchanged. | Verify: `pytest tests/unit_tests/ir`. | Links: scratchpad `agents/scratchpads/T-020_cir_rename.md`, PR https://github.com/Jianxun/ASDL/pull/24. | Completion: 2026-01-01.
- T-021 | Status: Done | Owner: Executor | DoD: Rewrite ASDL_A AST + parser for net-first explicit schema (explicit instances/nets only; no pattern sugar/imports/exports/inline binds); ports inferred only from `$` net keys; add parser/AST tests for MVP constraints. | Verify: `pytest tests/unit_tests/parser`. | Links: scratchpad `agents/scratchpads/T-021_ast_net_first_mvp.md`, PR https://github.com/Jianxun/ASDL/pull/25. | Completion: 2026-01-01.
- T-010 | Status: Done | Owner: Executor | DoD: Implement Pydantic v2 AST models aligned with `docs/specs/spec_ast.md` (AsdlDocument, ModuleDecl, ViewDecl union by kind, SubcktRef/Dummy/Behav, ParamValue); enforce AST hard requirements (non-empty templates, dummy name/kind coupling, conns mapping); add `model_json_schema` export; add focused unit tests for validation edge cases. | Verify: `pytest tests/unit_tests/ast`. | Links: scratchpad `agents/scratchpads/T-010_ast_pydantic.md`. | Completion: 2026-01-01.
- T-011 | Status: Done | Owner: Executor | DoD: Build YAML parser using ruamel -> plain dict -> Pydantic validation; implement LocationIndex to map YAML paths to Locatable; map Pydantic ValidationError into `Diagnostic` with correct locations; update parser API (`parse_file`/`parse_string`) to return AST + diagnostics; add location-mapping tests. | Verify: `pytest tests/unit_tests/parser`. | Links: scratchpad `agents/scratchpads/T-011_parser_locatable.md`, PR https://github.com/Jianxun/ASDL/pull/20. | Completion: 2026-01-01.
- T-012 | Status: Done (Pre-rename; superseded by T-020) | Owner: Executor | DoD: Implement xDSL `asdl_cir` dialect ops/attrs per `docs/specs/spec_asdl_cir.md` with verifiers; update AST->IR converter to emit `asdl_cir.design/module/view/...` and enforce canonical `nominal` during emission; add unit tests (skip if xdsl optional dep missing). | Verify: `pytest tests/unit_tests/ir`. | Links: scratchpad `agents/scratchpads/T-012_ir_dialect_converter.md`, PR https://github.com/Jianxun/ASDL/pull/21. | Completion: 2026-01-01.
- T-016 | Status: Done | Owner: Executor | DoD: Implement diagnostic core types (Diagnostic, Severity, SourceSpan, Label, Note, FixIt), a collector sink, and text/JSON renderers with deterministic ordering. | Verify: `pytest tests/unit_tests/diagnostics`. | Links: scratchpad `agents/scratchpads/T-016_diagnostic_core.md`, PR https://github.com/Jianxun/ASDL/pull/19. | Completion: 2026-01-01.
- T-001 | Status: Done (Superseded by T-010) | Owner: Architect | DoD: ADR-0001 reflected in schema plan; draft schema/pydantic shape for views with reserved kinds (subckt, subckt_ref, primitive, dummy) and reserved names (nominal/nom, dummy); confirm ordering decision (lists where order matters) for view substructures; file updates staged for review (schema draft or design doc). | Verify: none (design task). | Links: ADR-0001. | Completion: 2026-01-01.
- T-002 | Status: Done (Superseded by T-010) | Owner: Architect | DoD: Define data model/spec for view payloads by kind (fields for subckt, subckt_ref/PEX mapping, primitive/spice_template, dummy) and document validation expectations (validate all views as if used); update scratchpad with field tables and invariants. | Verify: none (design task). | Links: ADR-0001. | Completion: 2026-01-01.
- T-003 | Status: Done (Superseded by T-013) | Owner: Architect | DoD: Specify and design the SelectView compiler pass; selection runs after config/view_order application; pass validates all views as if they will be used; outputs resolved (module, view) mapping and diagnostics strategy; update scratchpad with pass contract and verify plan. | Verify: none (design task). | Links: ADR-0001. | Completion: 2026-01-01.
