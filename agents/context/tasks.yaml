schema_version: 2

current_sprint:
  - id: T-255
    title: Load .asdlrc for Sphinx docs build
    owner: Executor
    dod: >
      Update the Sphinx ASDL domain to discover `.asdlrc` for project builds
      (default to the project manifest directory, allow explicit config path
      override). Load lib_roots/env via `asdl.cli.config`, merge env values
      without overwriting existing OS variables, and pass resolved lib_roots
      into dependency-graph building. Add unit coverage that exercises a
      manifest + `.asdlrc` fixture and asserts import resolution succeeds
      without AST-010 errors. Update examples/docs/README.md to note that docs
      builds honor `.asdlrc` lib_roots/env. Do not touch unrelated style docs
      (e.g., docs/code_styles/docstrings_comments.md).
    verify:
      - ./venv/bin/pytest tests/unit_tests/docs/test_sphinx_asdlrc.py -v
    links:
      scratchpad: agents/scratchpads/T-255_sphinx_asdlrc.md
    files:
      - src/asdl/docs/sphinx_domain.py
      - tests/unit_tests/docs/test_sphinx_asdlrc.py
      - examples/docs/README.md
  - id: T-256
    title: Auto-expand Sphinx project manifest entries via import graph
    owner: Executor
    depends_on:
      - T-255
    dod: >
      Update the Sphinx project manifest workflow so each entry file expands
      to the full resolved import graph (entries + imported files). Generated
      stub pages and the project toctree must include all resolved files in
      deterministic order, with duplicates removed. Import resolution must use
      the same lib_roots/.asdlrc handling as depgraph builds. Add unit coverage
      to assert auto-expansion from a minimal manifest that only lists a top
      file, and that imported files appear in the generated list. Do not touch
      unrelated style docs (e.g., docs/code_styles/docstrings_comments.md).
    verify:
      - ./venv/bin/pytest tests/unit_tests/docs/test_sphinx_project_pages.py -v
    links:
      scratchpad: agents/scratchpads/T-256_sphinx_manifest_expand.md
    files:
      - src/asdl/docs/sphinx_domain.py
      - tests/unit_tests/docs/test_sphinx_project_pages.py
  - id: T-257
    title: Clean up module tables in Sphinx render
    owner: Executor
    dod: >
      Update Sphinx doc rendering to (1) remove `kind` and `direction` columns
      from the Interface/Ports table, leaving only `name` and `description`,
      and (2) move the Patterns section above other module tables so pattern
      definitions appear first. Add or update unit coverage to assert the
      interface table headers and section ordering. Do not touch unrelated
      style docs (e.g., docs/code_styles/docstrings_comments.md).
    verify:
      - ./venv/bin/pytest tests/unit_tests/docs/test_sphinx_render.py -v
    links:
      scratchpad: agents/scratchpads/T-257_sphinx_table_order.md
    files:
      - src/asdl/docs/sphinx_render.py
      - tests/unit_tests/docs/test_sphinx_render.py
  - id: T-258
    title: Use file-stem titles and demote top module in Sphinx docs
    owner: Executor
    dod: >
      Always use the ASDL file stem as the page title (do not promote
      `document.top` or single-module names). Render `top` as a separate
      document-level "Top module" section placed after Overview and before
      Imports so it is visible without duplicating module titles. Update unit
      coverage to assert title selection and top-section rendering. Do not
      touch unrelated style docs (e.g., docs/code_styles/docstrings_comments.md).
    verify:
      - ./venv/bin/pytest tests/unit_tests/docs/test_sphinx_render.py -v
    links:
      scratchpad: agents/scratchpads/T-258_sphinx_title_dedupe.md
    files:
      - src/asdl/docs/sphinx_render.py
      - tests/unit_tests/docs/test_sphinx_render.py
  - id: T-259
    title: Align Sphinx document structure with file/module semantics
    owner: Executor
    dod: >
      Render document titles as the ASDL file name with extension (e.g.,
      `inv.asdl`) and treat Imports as a file-level section. Ensure the file
      Overview uses only file-level docstrings. Module-level overviews must be
      labeled "Notes" (not "Overview") to avoid confusion with file-level
      Overview. Update unit coverage to assert title selection and section
      ordering. Do not touch unrelated style docs (e.g.,
      docs/code_styles/docstrings_comments.md).
    verify:
      - ./venv/bin/pytest tests/unit_tests/docs/test_sphinx_render.py -v
    links:
      scratchpad: agents/scratchpads/T-259_sphinx_doc_structure.md
    files:
      - src/asdl/docs/sphinx_render.py
      - tests/unit_tests/docs/test_sphinx_render.py

backlog: []
