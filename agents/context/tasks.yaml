schema_version: 2

current_sprint:
  - id: T-127
    title: Remove GraphIR pattern ops
    owner: Executor
    dod: >
      Delete graphir bundle/pattern_expr ops and helpers, and clean the GraphIR
      dialect/module verification to drop bundle/pattern_expr support. Remove
      GraphIR exports for pattern ops and delete the graphir pattern helper
      module.
    verify: []
    files:
      - src/asdl/ir/graphir/ops_pattern.py
      - src/asdl/ir/graphir/patterns.py
      - src/asdl/ir/graphir/dialect.py
      - src/asdl/ir/graphir/ops_module.py
      - src/asdl/ir/graphir/__init__.py
    links:
      scratchpad: agents/scratchpads/T-127_remove_graphir_pattern_ops.md
  - id: T-128
    title: Remove IFIR pattern passes
    owner: Executor
    dod: >
      Delete the IFIR pattern atomization/elaboration passes and update the IR
      patterns package and pipeline to remove the atomize-patterns pass. The
      pipeline should compile without importing the removed passes.
    verify: []
    files:
      - src/asdl/ir/patterns/atomization.py
      - src/asdl/ir/patterns/elaboration.py
      - src/asdl/ir/patterns/__init__.py
      - src/asdl/ir/pipeline.py
    links:
      scratchpad: agents/scratchpads/T-128_remove_ifir_pattern_passes.md
  - id: T-129
    title: GraphIR pattern origin attributes and table
    owner: Executor
    dod: >
      Add a typed GraphIR pattern_origin attribute, attach optional
      pattern_origin to net/instance/endpoint ops, and define the module attrs
      pattern_expression_table entry. Update the GraphIR spec to describe the
      atomized-only provenance model.
    verify: []
    files:
      - src/asdl/ir/graphir/attrs.py
      - src/asdl/ir/graphir/ops_graph.py
      - src/asdl/ir/graphir/ops_module.py
      - docs/specs/spec_asdl_graphir.md
    links:
      scratchpad: agents/scratchpads/T-129_graphir_pattern_origin.md
  - id: T-130
    title: Pattern metadata helper APIs
    owner: Executor
    dod: >
      Create new pattern metadata helpers under src/asdl/ir/patterns
      (origin, expr_table, parts, endpoint_split) and export them from
      the patterns package. Implement the typed-attr encode/decode APIs
      described in ADR-0015; do not add binding logic here.
    verify: []
    files:
      - src/asdl/ir/patterns/origin.py
      - src/asdl/ir/patterns/expr_table.py
      - src/asdl/ir/patterns/parts.py
      - src/asdl/ir/patterns/endpoint_split.py
      - src/asdl/ir/patterns/__init__.py
    links:
      scratchpad: agents/scratchpads/T-130_pattern_helper_apis.md
  - id: T-131
    title: Remove bundle usage from GraphIR converters
    owner: Executor
    dod: >
      Remove bundle/pattern_expr handling from GraphIR->IFIR and GraphIR->AST
      converters, replacing rebundling with the new pattern_origin/table
      approach. Keep converters compiling with atomized-only GraphIR.
    verify: []
    files:
      - src/asdl/ir/converters/graphir_to_ifir.py
      - src/asdl/ir/converters/graphir_to_ast.py
      - src/asdl/ir/patterns/origin.py
    links:
      scratchpad: agents/scratchpads/T-131_graphir_converter_cleanup.md
  - id: T-132
    title: Ast to GraphIR pattern metadata integration
    owner: Executor
    dod: >
      Update AST->GraphIR conversion to register pattern expression table
      entries, attach pattern_origin metadata to atomized nets/instances/
      endpoints and instance params, and expand endpoint expressions as a whole
      before splitting on '.'. Binding logic remains in ast_to_graphir.py.
    verify: []
    files:
      - src/asdl/ir/converters/ast_to_graphir.py
      - src/asdl/ir/patterns/expr_table.py
      - src/asdl/ir/patterns/origin.py
      - src/asdl/ir/patterns/endpoint_split.py
      - src/asdl/ir/graphir/ops_graph.py
    links:
      scratchpad: agents/scratchpads/T-132_ast_to_graphir_pattern_metadata.md
backlog: []

exploration_candidates:
  - IFIR diagnostics spans: mapping strategy, edge cases, and test fixtures.
  - CLI pipeline UX: command flow, error messaging, and file layout.
  - Netlist emission validation: strictness vs warnings; validation stages.
  - xDSL pipeline boundaries: pass split/merge opportunities and IR boundaries.
  - Codebase map gaps: navigation audit for future Executors.
