schema_version: 2

current_sprint:
  - id: T-232
    title: Add .asdlrc discovery + parsing utilities
    owner: Executor
    dod: >
      Implement a config loader that discovers `.asdlrc` by walking parents
      from an entry file directory, parses YAML schema_version 1, resolves
      relative paths against the rc directory, and expands `${ASDLRC_DIR}` and
      `${VAR}` tokens. Provide an API that returns rc `lib_roots`,
      `backend_config`, and an env map intended for merge into `os.environ`.
      Add unit tests for discovery, interpolation, and path resolution.
    verify:
      - ./venv/bin/pytest tests/unit_tests/cli -k asdlrc
    links:
      scratchpad: agents/scratchpads/T-232_asdlrc_loader.md
    files:
      - src/asdl/cli/config.py
      - tests/unit_tests/cli/test_asdlrc_config.py
  - id: T-233
    title: Wire .asdlrc into asdlc CLI (netlist + visualizer-dump)
    owner: Executor
    depends_on:
      - T-232
    dod: >
      Add `--config` to the `asdlc` CLI and load `.asdlrc` based on each entry
      file. Merge rc `env` into `os.environ` only for missing keys, apply rc
      `lib_roots` after CLI `--lib` roots, and honor rc `backend_config` when
      `ASDL_BACKEND_CONFIG` is unset. Ensure `asdlc netlist` and
      `asdlc visualizer-dump` both use rc-derived library roots and backend
      config precedence. Add integration tests that exercise rc discovery and
      precedence across commands.
    verify:
      - ./venv/bin/pytest tests/unit_tests/cli -k asdlrc
    links:
      scratchpad: agents/scratchpads/T-233_asdlrc_cli_integration.md
    files:
      - src/asdl/cli/__init__.py
      - src/asdl/cli/config.py
      - tests/unit_tests/cli/test_asdlrc_cli.py
  - id: T-234
    title: Document .asdlrc schema + discovery rules
    owner: Executor
    depends_on:
      - T-232
      - T-233
    dod: >
      Document the `.asdlrc` schema (schema_version, lib_roots,
      backend_config, env), interpolation rules, and discovery order in
      README and CLI spec docs. Note precedence rules and the entry-file
      directory search behavior.
    verify:
      - ./venv/bin/python -m py_compile src/asdl/cli/__init__.py
    links:
      scratchpad: agents/scratchpads/T-234_asdlrc_docs.md
    files:
      - README.md
      - docs/specs/spec_cli.md

backlog: []
