schema_version: 2

current_sprint:
  - id: T-297
    title: Restore import-qualified instance refs with decorated-symbol validation
    owner: Executor
    dod: >
      Fix AST instance-ref validation so import-qualified refs (`ns.symbol`) are
      accepted again while preserving decorated view grammar checks for symbol
      tokens (`cell` or `cell@view`). Keep module declaration-name validation
      strict (`cell`/`cell@view` only) and ensure parser diagnostics remain
      specific for malformed `@` usage. Include self-contained regressions under
      `tests/` for valid qualified refs (`ns.symbol`, `ns.symbol@view`) and
      malformed variants.
    verify:
      - ./venv/bin/pytest tests/unit_tests/ast/test_models.py tests/unit_tests/parser/test_parser.py tests/unit_tests/cli/test_netlist.py -k "imports_with or malformed_decorated or module_symbol or qualified" -v
    links:
      scratchpad: agents/scratchpads/T-297_qualified_refs_with_view_validation.md
      adr: agents/adr/ADR-0032-view-decorated-module-symbols.md
      spec: docs/specs/spec_asdl_views.md
    files:
      - src/asdl/ast/models.py
      - tests/unit_tests/ast/test_models.py
      - tests/unit_tests/parser/test_parser.py
      - tests/unit_tests/cli/test_netlist.py
  - id: T-298
    title: Support occurrence-specific view application for reused module definitions
    owner: Executor
    depends_on:
      - T-297
    dod: >
      Remove the non-uniform rewrite failure mode in view-binding application so
      path-scoped overrides work when the same module definition is instantiated
      at multiple hierarchy paths with different resolved refs. Ensure emission
      uses per-occurrence resolved symbols deterministically and keeps existing
      sidecar semantics. Include self-contained regressions under `tests/` for
      divergent path binding on reused module definitions and verify sidecar +
      emitted call refs.
    verify:
      - ./venv/bin/pytest tests/unit_tests/views/test_view_apply.py tests/unit_tests/views/test_view_resolver.py tests/unit_tests/cli/test_netlist.py -k "view_fixture_binding_profiles_change_emitted_instance_refs or non_uniform or scoped_override or divergent" -v
    links:
      scratchpad: agents/scratchpads/T-298_occurrence_specific_view_apply.md
      adr: agents/adr/ADR-0033-view-binding-config-and-sidecar.md
      spec: docs/specs/spec_asdl_view_config.md
    files:
      - src/asdl/views/api.py
      - src/asdl/cli/__init__.py
      - src/asdl/emit/netlist/render.py
      - tests/unit_tests/views/test_view_apply.py
      - tests/unit_tests/cli/test_netlist.py

backlog: []
