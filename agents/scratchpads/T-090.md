# Task summary (DoD + verify)
- DoD: Add atomization helpers in `src/asdl/patterns.py` that expand a pattern token into single-atom pattern tokens with emitted literal names and origin metadata, including base-less patterns. Provide endpoint atomization helpers and diagnostics for malformed tokens. Add parser-level unit tests for atomization outputs and error cases.
- Verify: `pytest tests/unit_tests/parser/test_pattern_atomization.py -v`

# Read (paths)
- agents/context/lessons.md
- agents/context/contract.md
- agents/context/tasks.yaml
- agents/context/tasks_state.yaml
- agents/context/project_status.md

# Plan
- Inspect current pattern expansion utilities and parser tests.
- Design atomization helpers + diagnostics per ADR-0011.
- Add parser-level tests for atomization outputs and error cases.
- Run targeted tests.

# Progress log
- 2026-01-13: Created scratchpad and started task.
- 2026-01-13: Added atomization helpers + parser tests; verified new tests.

# Patch summary
- Added atomize helpers/dataclasses in `src/asdl/patterns.py`.
- Added parser unit tests for atomization outputs and error handling.

# PR URL
- https://github.com/Jianxun/ASDL/pull/98

# Verification
- `./venv/bin/pytest tests/unit_tests/parser/test_pattern_atomization.py -v`

# Status request (Done / Blocked / In Progress)
- Done.

# Blockers / Questions
- None.

# Next steps
- Open PR and mark task ready for review.
