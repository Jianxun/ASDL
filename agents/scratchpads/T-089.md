# Task summary (DoD + verify)
- DoD: Expand pattern tokens in instance parameter values after instance-name expansion. Support scalar broadcast and length-N zip; reject mismatched lengths. Add tests that cover broadcast, zip, and error cases.
- Verify: `pytest tests/unit_tests/ir/test_pattern_elaboration.py -v`, `pytest tests/unit_tests/netlist/test_netlist_emitter.py -v`

# Read (paths)
- agents/context/lessons.md
- agents/context/contract.md
- agents/context/tasks.yaml
- agents/context/tasks_state.yaml
- agents/context/project_status.md

# Plan
- Inspect pattern elaboration logic for instance param expansion ordering.
- Implement patterned param expansion with broadcast/zip semantics + error handling.
- Update/add IR pattern elaboration tests and netlist tests for params.
- Run targeted tests and record results.

# Progress log
- Added tests for patterned instance param expansion (broadcast, zip, mismatch).
- Expanded instance params during pattern elaboration and wired per-instance params.
- Verified IR and netlist unit tests for patterned params.

# Patch summary
- Added IR + netlist tests for patterned instance params.
- Implemented param expansion in pattern elaboration with broadcast/zip + mismatch diagnostics.

# PR URL
- https://github.com/Jianxun/ASDL/pull/95

# Verification
- `./venv/bin/pytest tests/unit_tests/ir/test_pattern_elaboration.py -v`
- `./venv/bin/pytest tests/unit_tests/netlist/test_netlist_emitter.py -v`

# Status request (Done / Blocked / In Progress)
- Done

# Blockers / Questions
- 

# Next steps
- Await review feedback.
