imports:
  gf: ../gf180mcu.asdl
modules:
  current_mirror_array_nmos:
    instance_defaults:
      gf.nfet_03v3:
        bindings: 
          B: $VSS
          S: $VSS
    patterns:
      k: <1|2|4|8|16>
    instances:
      mn_ref: gf.nfet_03v3 L=0.5u W=5u NF=6 m=1
      mn_out<@k>: gf.nfet_03v3 L=0.5u W=5u NF=6 m=<@k>
    nets:
      $iref: [mn_ref.D, mn_ref.G, mn_out<@k>.G]
      $iout_<@k>x: [mn_out<@k>.D]
      $vss: [mn_ref.S, mn_out<@k>.S, mn_ref.B, mn_out<@k>.B]
