top_module: res

modules:
  res:
    ports:
      - P: { dir: in_out, type: signal }
      - N: { dir: in_out, type: signal }
    parameters:
      value: 1k
    views:
      nominal:
        type: primitive
        templates:
          sim.ngspice: 'R{inst} {P} {N} {value}'
          sim.spectre: 'R{inst} ({P} {N}) {value}'
          lvs.klayout: 'R{inst} {P} {N} {value}'



  nfet_3p3:
    ports:
      D: { dir: in_out, type: signal }
      G: { dir: in_out, type: signal }
      S: { dir: in_out, type: signal }
      B: { dir: in_out, type: signal }
    port_order: [D, G, S, B]
    views:
      nominal:
        kind: primitive
        templates:
          sim.ngspice: 'X_{inst} {D} {G} {S} {B} nfet_03v3 L={L} W={W} nf={nf} m={m} ad={ad} as={as} pd={pd} ps={ps} nrd={nrd} nrs={nrs} sa={sa} sb={sb} sd={sd}''
          sim.spectre: '{inst} nmos_3p3 ({D} {G} {S} {B}) L={L} W={W} nf={nf} m={m}'
          lvs.klayout: 'M_{inst} nfet_03v3 {D} {G} {S} {B} L={L} W={W} nf={nf}'
          lvs.netgen:  'XM_{inst} nfet_03v3 {D} {G} {S} {B} L={L} W={W} nf={nf}'

    variables:
      ad: "'int((nf+1)/2) * W/nf * 0.18u'"
      pd: "'2*int((nf+1)/2) * (W/nf + 0.18u)'"
      as: "'int((nf+2)/2) * W/nf * 0.18u'"
      ps: "'2*int((nf+2)/2) * (W/nf + 0.18u)'"
      nrd: "'0.18u / W'"
      nrs: "'0.18u / W'"
      sa: 0
      sb: 0
      sd: 0
    parameters:
      L: 0.28u
      W: 3u
      nf: 2
      m: 1