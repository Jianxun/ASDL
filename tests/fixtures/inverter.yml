design_info:
  top_module: inverter
  doc: "Basic CMOS inverter"
  revision: "v0.4"
  author: "ASDL"
  date: "2024-03-19"

models:
  nmos_unit:
    doc: "NMOS transistor unit cell"
    type: nmos
    ports: [G, D, S, B]
    device_line: |
      MN {D} {G} {S} {B} nfet_03v3 L=0.5u W=4u nf=2 ad=0.72u as=0.72u pd=4.36u ps=4.36u nrd=0.045 nrs=0.045 sa=0 sb=0 sd=0
    parameters:
      M: 1

  pmos_unit:
    doc: "PMOS transistor unit cell"
    type: pmos
    ports: [G, D, S, B]
    device_line: |
      MP {D} {G} {S} {B} pfet_03v3 L=0.5u W=5u nf=2 ad=0.9u as=0.9u pd=5.36u ps=5.36u nrd=0.036 nrs=0.036 sa=0 sb=0 sd=0
    parameters:
      M: 1
    

modules:
  inverter:
    doc: "Basic CMOS inverter with PMOS pull-up and NMOS pull-down"
    ports:
      in:  {dir: in,  type: voltage}
      out: {dir: out, type: voltage}
      vss: {dir: in_out, type: voltage}
      vdd: {dir: in_out, type: voltage, constraints: {Vdd: 1.8}}
    parameters:
      M: 1
    instances:
      MP:
        model: pmos_unit
        mappings: {G: in, D: out, S: vdd, B: vdd}
        parameters:
          M: 2
        intent:
          op:
            region: saturation
            gm_over_Id: 10
          layout:
            type: single
            symmetry: none

      MN:
        model: nmos_unit
        mappings: {G: in, D: out, S: vss, B: vss}
        parameters:
          M: 2
        intent:
          op:
            region: saturation
            gm_over_Id: 10
          layout:
            type: single
            symmetry: none 